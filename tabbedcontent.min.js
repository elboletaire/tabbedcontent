/**
 * Tabs plugin for jQuery created by Òscar Casajuana < elboletaire at underave dot net >
 *
 * @copyright Copyright 2013-2016 Òscar Casajuana
 * @license   MIT
 * @author    Òscar Casajuana Alonso <elboletaire at underave dot net>
*/
!function(t,n,e,r){"use strict";var i=function(i,a){function o(t){return Boolean(m.filter(t).length)}function s(){return 0===q}function l(t){return t%1===0}function c(){return q===m.length-1}function u(n){return t(this).attr("href").match(new RegExp(n+"$"))}function h(n){return n instanceof t?{tab:n,link:a.links.eq(n.index())}:l(n)?{tab:m.eq(n),link:a.links.eq(n)}:m.filter(n).length?{tab:m.filter(n),link:a.links.filter(function(){return u.apply(this,[n])})}:{tab:m.filter("#"+n),link:a.links.filter(function(){return u.apply(this,["#"+n])})}}function f(){return a.links.parent().filter("."+a.currentClass).index()}function d(t){return++q,t===r&&(t=a.loop),q<m.length?k(q,!0):t&&q>=m.length?k(0,!0):!1}function p(t){return--q,t===r&&(t=a.loop),q>=0?k(q,!0):t&&0>q?k(m.length-1,!0):!1}function g(t){a.history&&y&&x!==r&&"pushState"in x&&(y=!1,e.setTimeout(function(){x.replaceState(null,"",t)},100)),q=f(),a.onSwitch&&"function"==typeof a.onSwitch&&a.onSwitch(t,b()),i.trigger("onSwitch",[t,b()])}function k(t,n){return t.toString().match(/^#/)||(t="#"+h(t).tab.attr("id")),o(t)?(a.links.attr("aria-selected","false").parent().removeClass(a.currentClass),a.links.filter(function(){return u.apply(this,[t])}).attr("aria-selected","true").parent().addClass(a.currentClass),m.hide(),a.history&&n&&(x!==r&&"pushState"in x?x.pushState(null,"",t):e.location.hash=t),m.attr("aria-hidden","true").filter(t).show(a.speed,function(){a.speed&&g(t)}).attr("aria-hidden","false"),a.speed||g(t),!0):!1}function w(t){return k(t,!0)}function S(t){k(I.hash)}function v(){if(o(I.hash)?k(I.hash):a.links.parent().filter("."+a.currentClass).length?k(a.links.parent().filter("."+a.currentClass).index()):a.errorSelector&&m.find(a.errorSelector).length?m.each(function(){return t(this).find(a.errorSelector).length?(k("#"+t(this).attr("id")),!1):void 0}):k("#"+m.filter(":first-child").attr("id")),a.errorSelector&&m.find(a.errorSelector).each(function(){var n=h(t(this).parent());n.link.parent().addClass(a.tabErrorClass)}),"onhashchange"in e)t(e).bind("hashchange",S);else{var n=I.href;e.setInterval(function(){n!==I.href&&(S.call(e.event),n=I.href)},100)}t(a.links).on("click",function(n){k(t(this).attr("href").replace(/^[^#]+/,""),a.history),n.preventDefault()}),a.onInit&&"function"==typeof a.onInit&&a.onInit(b()),i.trigger("onInit",[b()])}function b(){return{"switch":w,switchTab:w,getCurrent:f,getTab:h,next:d,prev:p,isFirst:s,isLast:c}}var C={links:i.prev().find("a").length?i.prev().find("a"):".tabs a",errorSelector:".error-message",speed:!1,onSwitch:!1,onInit:!1,currentClass:"active",tabErrorClass:"has-errors",history:!0,loop:!1},y=!0,m=i.children(),x=e.history,I=n.location,q=null;return a=t.extend(C,a),a.links instanceof t||(a.links=t(a.links)),v(),b()};t.fn.tabbedContent=function(n){return this.each(function(){var e=new i(t(this),n);t(this).data("api",e)})}}(window.jQuery||window.Zepto||window.$,document,window);