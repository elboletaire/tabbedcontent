/**
 * Tabs plugin for jQuery created by Òscar Casajuana < elboletaire at underave dot net >
 *
 * @copyright Copyright 2013-2016 Òscar Casajuana
 * @license   MIT
 * @author    Òscar Casajuana Alonso <elboletaire at underave dot net>
*/
!function(t,n,e,r){"use strict";var i=function(i,a){function s(t){return Boolean(S.filter(t).length)}function o(){return 0===x}function l(t){return t%1===0}function c(){return x===S.length-1}function h(n){return t(this).attr("href").match(new RegExp(n+"$"))}function u(n){return n instanceof t?{tab:n,link:a.links.eq(n.index())}:l(n)?{tab:S.eq(n),link:a.links.eq(n)}:S.filter(n).length?{tab:S.filter(n),link:a.links.filter(function(){return h.apply(this,[n])})}:{tab:S.filter("#"+n),link:a.links.filter(function(){return h.apply(this,["#"+n])})}}function f(){return a.links.parent().filter("."+a.currentClass).index()}function d(t){return++x,t===r&&(t=a.loop),x<S.length?k(x,!0):t&&x>=S.length?k(0,!0):!1}function p(t){return--x,t===r&&(t=a.loop),x>=0?k(x,!0):t&&0>x?k(S.length-1,!0):!1}function g(t){a.history&&a.historyOnInit&&m&&E!==r&&"pushState"in E&&(m=!1,e.setTimeout(function(){E.replaceState(null,"",t)},100)),x=f(),a.onSwitch&&"function"==typeof a.onSwitch&&a.onSwitch(t,C()),i.trigger("tabcontent.switch",[t,C()])}function k(t,n){return t.toString().match(/^#/)||(t="#"+u(t).tab.attr("id")),s(t)?(a.links.attr("aria-selected","false").parent().removeClass(a.currentClass),a.links.filter(function(){return h.apply(this,[t])}).attr("aria-selected","true").parent().addClass(a.currentClass),S.hide().addClass("state-hidden"),a.history&&n&&(E!==r&&"pushState"in E?E.pushState(null,"",t):e.location.hash=t),S.attr("aria-hidden","true").filter(t).show(a.speed,function(){a.speed&&g(t)}).removeClass("state-hidden").attr("aria-hidden","false"),a.speed||g(t),!0):!1}function w(t){return k(t,!0)}function b(t){k(I.hash)}function v(){if(s(I.hash)?k(I.hash):a.links.parent().filter("."+a.currentClass).length?k(a.links.parent().filter("."+a.currentClass).index()):a.errorSelector&&S.find(a.errorSelector).length?S.each(function(){return t(this).find(a.errorSelector).length?(k("#"+t(this).attr("id")),!1):void 0}):k("#"+S.eq(0).attr("id")),a.errorSelector&&S.find(a.errorSelector).each(function(){var n=u(t(this).parent());n.link.parent().addClass(a.tabErrorClass)}),"onhashchange"in e)t(e).bind("hashchange",b);else{var n=I.href;e.setInterval(function(){n!==I.href&&(b.call(e.event),n=I.href)},100)}t(a.links).on("click",function(n){k(t(this).attr("href").replace(/^[^#]+/,""),a.history),n.preventDefault()}),a.onInit&&"function"==typeof a.onInit&&a.onInit(C()),i.trigger("tabcontent.init",[C()])}function C(){return{"switch":w,switchTab:w,getCurrent:f,getTab:u,next:d,prev:p,isFirst:o,isLast:c}}var S,y={contentElements:!1,links:i.prev().find("a").length?i.prev().find("a"):".tabs a",errorSelector:".error-message",speed:!1,onSwitch:!1,onInit:!1,currentClass:"active",tabErrorClass:"has-errors",history:!0,historyOnInit:!0,loop:!1},m=!1,E=e.history,I=n.location,x=null;return a=t.extend(y,a),a.links instanceof t||(a.links=t(a.links)),S=a.contentElements instanceof t?a.contentElements:a.contentElements?i.find(a.contentElements):i.children(),v(),C()};t.fn.tabbedContent=function(n){return this.each(function(){var e=new i(t(this),n);t(this).data("api",e)})}}(window.jQuery||window.Zepto||window.$,document,window);